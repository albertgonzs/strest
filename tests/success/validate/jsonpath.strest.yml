version: 1
# Using http://jsonpath.com as object and simple testing
requests:
  jsonpath:
    request:
      url: https://jsonplaceholder.typicode.com/posts
      method: POST
      postData:
        mimeType: application/json
        text:
          firstName: John
          lastName: doe
          age: 26
          address:
              streetAddress: 'naist street'
              city: Nara
              postalCode: 630-0192
          phoneNumbers:
              - {type: iPhone, number: 0123-4567-8888}
              - {type: home, number: 0123-4567-8910}
    validate:
    - jsonpath: $.phoneNumbers[:1].type
      expect: iPhone
    - jsonpath: age
      expect: 26
    - jsonpath: $.age
      expect: 26
    - jsonpath: address.city
      expect: Nara
    - jsonpath: $.phoneNumbers[?(@.type == "home")].number
      expect: "0123-4567-8910"
    - jsonpath: code
      expect: 200
